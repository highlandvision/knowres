<?xml version="1.0" encoding="utf-8"?>
<form addfieldprefix="HighlandVision\Component\Knowres\Administrator\Field"
      addruleprefix="HighlandVision\Component\Knowres\Administrator\Rule">
    <fieldset name="krdata">
        <field name="confirmed"
               class="btn-group btn-group-yesno"
               default="0"
               required="true"
               type="radio"
               label="COM_KNOWRES_CONTRACTPAYMENT_CONFIRMED_LBL"
               description="COM_KNOWRES_CONTRACTPAYMENT_CONFIRMED_DSC">
            <option value="1">COM_KNOWRES_CONFIRMED</option>
            <option value="0">COM_KNOWRES_PENDING</option>
        </field>
        <field name="booking_status"
               default="5"
               filter="integer"
               required="true"
               type="listbookingstatus"
               label="COM_KNOWRES_CONTRACTPAYMENT_BOOKING_STATUS_LBL"
               description="COM_KNOWRES_CONTRACTPAYMENT_BOOKING_STATUS_DSC"/>
        <field name="payment_date"
               class="input-mini"
               datepicker='{"minDate": "-2Y", "maxDate": "+1D", "altField": "#jform_payment_date"}'
               filter="string"
               required="true"
               type="uicalendar"
               label="COM_KNOWRES_CONTRACTPAYMENT_PAYMENT_DATE_LBL"
               description="COM_KNOWRES_CONTRACTPAYMENT_PAYMENT_DATE_DSC"/>
        <field name="service_id"
               input_type="list"
               required="true"
               table="#__knowres_service"
               key_field="id"
               value_field="plugin"
               prepend="currency"
               type="listforeignkey"
               where="agency_id > 0 AND state=1 AND type='g'"
               label="COM_KNOWRES_CONTRACTPAYMENT_SERVICE_ID_LBL"
               description="COM_KNOWRES_CONTRACTPAYMENT_SERVICE_ID_LBL"/>
        <field name="refund"
               class="btn-group btn-group-yesno"
               default="0"
               required="true"
               type="radio"
               label="COM_KNOWRES_CONTRACTPAYMENT_REFUND_LBL"
               description="COM_KNOWRES_CONTRACTPAYMENT_REFUND_DSC">
            <option value="1">JYES</option>
            <option value="0">JNO</option>
        </field>
        <field name="payment_ref"
               filter="string"
               type="text"
               label="COM_KNOWRES_CONTRACTPAYMENT_PAYMENT_REF_LBL"
               description="COM_KNOWRES_CONTRACTPAYMENT_PAYMENT_REF_DSC"/>
    </fieldset>
    <fieldset name="krpayment">
        <field name="currency"
               class="input-mini"
               filter="string"
               required="true"
               type="listcurrencypayment"
               label="COM_KNOWRES_CONTRACTPAYMENT_CURRENCY_LBL"
               description="COM_KNOWRES_CONTRACTPAYMENT_CURRENCY_DSC"/>
        <field name="amount"
               class="input-mini"
               default="0"
               filter="string"
               required="true"
               type="textmoney"
               label="COM_KNOWRES_CONTRACTPAYMENT_AMOUNT_LBL"
               description="COM_KNOWRES_CONTRACTPAYMENT_AMOUNT_DSC"/>
        <field name="base_amount"
               class="input-mini"
               default="0"
               filter="string"
               type="textmoney"
               label="COM_KNOWRES_CONTRACTPAYMENT_BASE_AMOUNT_LBL"
               description="COM_KNOWRES_CONTRACTPAYMENT_BASE_AMOUNT_DSC"/>
        <field name="rate"
               class="input-mini"
               default="0"
               dp="5"
               filter="string"
               type="textmoney"
               label="COM_KNOWRES_CONTRACTPAYMENT_RATE_LBL"
               description="COM_KNOWRES_CONTRACTPAYMENT_RATE_DSC"/>
        <field name="note"
               filter="string"
               type="text"
               label="COM_KNOWRES_CONTRACTPAYMENT_NOTE_LBL"
               description="COM_KNOWRES_CONTRACTPAYMENT_NOTE_DSC"/>
        <field name="currency_res"
               default=""
               filter="string"
               type="hidden"/>
        <field name="contract_id"
               filter="integer"
               type="hidden"/>
        <field name="actioned"
               default="0"
               filter="integer"
               type="hidden"/>
    </fieldset>
    <fieldset name="krcommon">
        <field name="state"
               type="list"
               class="form-select-color-state"
               size="1"
               default="1"
               label="JSTATUS"
               description="JFIELD_PUBLISHED_DESC">
            <option value="1">JPUBLISHED</option>
            <option value="0">JUNPUBLISHED</option>
        </field>
        <field name="version_note"
               type="text"
               maxlength="255"
               size="45"
               label="JGLOBAL_FIELD_VERSION_NOTE_LABEL"
               description="JGLOBAL_FIELD_VERSION_NOTE_DESC"/>
        <field name="version"
               type="text"
               class="input-mini"
               size="6"
               readonly="true"
               filter="unset"
               label="COM_KNOWRES_VERSION_LBL"
               description="COM_KNOWRES_VERSION_DSC"/>
        <field name="id"
               type="text"
               default="0"
               readonly="true"
               class="readonly"
               label="COM_KNOWRES_ID"
               description="JGLOBAL_FIELD_ID_DESC"/>
        <field name="created_at"
               type="calendar"
               format="%d %b %Y %H:%M:%S"
               filter="user_utc"
               readonly="true"
               label="COM_KNOWRES_CREATED_AT_LBL"
               description="COM_KNOWRES_CREATED_AT_DSC"/>
        <field name="created_by"
               type="user"
               readonly="true"
               label="COM_KNOWRES_CREATED_BY_LBL"
               description="COM_KNOWRES_CREATED_BY_DSC"/>
        <field name="updated_at"
               type="calendar"
               format="%d %b %Y %H:%M:%S"
               filter="user_utc"
               readonly="true"
               label="COM_KNOWRES_UPDATED_AT_LBL"
               description="COM_KNOWRES_UPDATED_AT_DSC"/>
        <field name="updated_by"
               type="user"
               readonly="true"
               label="COM_KNOWRES_UPDATED_BY_LBL"
               description="COM_KNOWRES_UPDATED_BY_DSC"/>
        <field name="checked_out"
               type="hidden"
               filter="unset"/>
        <field name="checked_out_time"
               type="hidden"
               filter="unset"/>
    </fieldset>
</form>