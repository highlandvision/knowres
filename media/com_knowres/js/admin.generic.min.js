"use strict";let Knowres;function refreshShow(id){window.location.href="index.php?option=com_knowres&task=property.dashboard&id="+id}function switchAmenities(room){let types=document.querySelectorAll(".roomtype");for(let i=0;i<types.length;i++)types[i].classList.add("hideme");let current=document.getElementById(room);current.classList.remove("hideme")}function togglerates(id,action){action&&("managed_rates"===id?(document.getElementById("net_rates0").click(),document.getElementById("beyond_rates0").click()):"net_rates"===id?(document.getElementById("managed_rates0").click(),document.getElementById("beyond_rates0").click()):(document.getElementById("managed_rates0").click(),document.getElementById("net_rates0").click()))}Knowres=window.Knowres||{},"undefined"==typeof jQuery&&jQuery.noConflict(),function(Knowres,document){Knowres.submitform=function(task,form,modal){let newForm=form;newForm=newForm||document.getElementById("adminForm"),task&&(newForm.task.value=task),jQuery(function(){return jQuery.ajax({type:"POST",url:newForm.getAttribute("action"),data:new FormData(newForm),processData:!1,contentType:!1,dataType:"json",success:function(result){result.success?window.location.href=result.data.redirect:result.messages?(modal&&jQuery(".modal").modal("hide"),Joomla.renderMessages(result.messages)):($("#errorModalMessage").empty().append(result.message),$("#errorModal").modal("show"))},error:function(jqXHR){200!==jqXHR.status?window.location.href=window.location.origin+"/administrator":window.location.href=window.location.origin+"/administrator/index.php?option=com_knowres&view=contracts"}}),!1})}}(Knowres,document),function($){$(document).on("hidden","#ajaxmodal",function(){$(this).removeData("modal")}).on("click",function(e){$().each(function(){$(this).is(e.target)||0!==$(this).has(e.target).length||0!==$(".popover").has(e.target).length||$(this).clickover("destroy")})}),$(function(){const $gallery=$("#kr-media-images");$gallery.length&&$gallery.sortable({stop:function(){let data="";$("div",$gallery).each(function(i,el){el=$(el).data("id");data+=el+","}),data=data.slice(0,-1),$.post("index.php?option=com_knowres&task=images.ordering",{order:data,property_id:$("#property_id").text()},function(){return!1})}})})}(jQuery);