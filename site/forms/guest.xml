<?xml version="1.0" encoding="utf-8"?>
<form addruleprefix="HighlandVision\Component\Knowres\Site\Rule">
    <fieldset name="primaryemail">
        <field name="email"
               filter="email"
               hiddenDescription="true"
               required="true"
               type="email"
               validate="email"
               label="COM_KNOWRES_GUEST_EMAIL_LBL"
               description="COM_KNOWRES_GUEST_EMAIL_DSC"/>
    </fieldset>
    <fieldset name="guestname">
        <field name="firstname"
               filter="string"
               hiddenDescription="true"
               type="text"
               label="COM_KNOWRES_FIRSTNAME"
               description="COM_KNOWRES_FIRSTNAME_DSC"/>
        <field name="surname"
               filter="string"
               hiddenDescription="true"
               type="text"
               label="COM_KNOWRES_SURNAME"
               description="COM_KNOWRES_SURNAME_DSC"/>
    </fieldset>
    <fieldset name="document">
        <field name="document_type"
               addfieldprefix="HighlandVision\Component\Knowres\Administrator\Field"
               filter="integer"
               type="listdocumenttype"
               label="COM_KNOWRES_DOCUMENT_TYPE_LBL"
               description="COM_KNOWRES_DOCUMENT_TYPE_DSC">
        </field>
        <field name="document_id"
               filter="string"
               type="text"
               label="COM_KNOWRES_DOCUMENT_ID_LBL"
               description="COM_KNOWRES_DOCUMENT_ID_DSC"/>
    </fieldset>
    <fieldset name="mobilephone">
        <field name="mobile_country_id"
               addfieldprefix="HighlandVision\Component\Knowres\Administrator\Field"
               filter="integer"
               hiddenDescription="true"
               required="true"
               type="listdialcode"
               label="COM_KNOWRES_GUEST_MOBILE_COUNTRY_LBL"
               description="COM_KNOWRES_GUEST_MOBILE_COUNTRY_DSC"/>
        <field name="mobile"
               filter="string"
               hiddenDescription="true"
               required="true"
               type="text"
               label="COM_KNOWRES_GUEST_MOBILE_LBL"
               description="COM_KNOWRES_GUEST_MOBILE_DSC"
               hint="COM_KNOWRES_GUEST_MOBILE_DSC"/>
    </fieldset>
    <fieldset name="additionalemails">
        <field name="email_2"
               filter="email"
               hiddenDescription="true"
               type="email"
               validate="email"
               label="COM_KNOWRES_GUEST_EMAIL_2_LBL"
               hint="COM_KNOWRES_GUEST_EMAIL_2_DSC"
               description="COM_KNOWRES_GUEST_EMAIL_2_DSC"/>
        <field name="email_3"
               filter="email"
               hiddenDescription="true"
               type="email"
               validate="email"
               label="COM_KNOWRES_GUEST_EMAIL_3_LBL"
               hint="COM_KNOWRES_GUEST_EMAIL_2_DSC"
               description="COM_KNOWRES_GUEST_EMAIL_2_DSC"/>
    </fieldset>
    <fieldset name="additionalphone">
        <field name="telephone"
               addfieldprefix="HighlandVision\Component\Knowres\Site\Field"
               filter="string"
               hiddenDescription="true"
               layout="form.field.json.generic"
               type="jsontelephone"
               label="COM_KNOWRES_GUEST_ALTERNATIVE_TELEPHONE_LBL"
               description="COM_KNOWRES_GUEST_ALTERNATIVE_TELEPHONE_DSC"/>
    </fieldset>
    <fieldset name="address">
        <field name="address1"
               filter="string"
               hiddenDescription="true"
               type="text"
               label="COM_KNOWRES_ADDRESS1"
               description="COM_KNOWRES_ADDRESS1_DSC"/>
        <field name="address2"
               filter="string"
               hiddenDescription="true"
               type="text"
               label="COM_KNOWRES_ADDRESS2"
               description="COM_KNOWRES_ADDRESS2_DSC"/>
        <field name="town"
               filter="string"
               hiddenDescription="true"
               type="text"
               label="COM_KNOWRES_TOWN"
               description="COM_KNOWRES_TOWN"/>
        <field name="postcode"
               filter="string"
               hiddenDescription="true"
               type="text"
               label="COM_KNOWRES_POSTCODE"
               description="COM_KNOWRES_POSTCODE"/>
        <field name="country_id"
               addfieldprefix="HighlandVision\Component\Knowres\Administrator\Field"
               class="countrychain"
               filter="integer"
               onchange="comboGeo(this.value, 'guest.combo', 'region');"
               type="combocountry"
               label="COM_KNOWRES_COUNTRY"
               hint="COM_KNOWRES_COUNTRY_DSC"/>
        <field name="region_id"
               addfieldprefix="HighlandVision\Component\Knowres\Administrator\Field"
               class="regionchain"
               filter="integer"
               type="comboregion"
               label="COM_KNOWRES_REGION"
               hint="COM_KNOWRES_REGION_DSC">
            <option value="0">COM_KNOWRES_SELECT_REGION</option>
        </field>
    </fieldset>
    <fieldset name="billing">
        <field name="billing"
               class="btn-group btn-group-yesno"
               default="0"
               type="radio"
               label="COM_KNOWRES_GUEST_BILLING_ADDRESS_CHECK">
            <option value="0" onchange="fillBilling(0);">JNO</option>
            <option value="1" onchange="fillBilling(1);">JYES</option>
        </field>
        <field name="b_address1"
               filter="string"
               hiddenDescription="true"
               type="text"
               label="COM_KNOWRES_ADDRESS1"
               description="COM_KNOWRES_ADDRESS1_DSC"/>
        <field name="b_address2"
               filter="string"
               hiddenDescription="true"
               type="text"
               label="COM_KNOWRES_ADDRESS2"
               description="COM_KNOWRES_ADDRESS2_DSC"/>
        <field name="b_town"
               filter="string"
               hiddenDescription="true"
               type="text"
               label="COM_KNOWRES_TOWN"
               description="COM_KNOWRES_TOWN_DSC"/>
        <field name="b_postcode"
               filter="string"
               hiddenDescription="true"
               type="text"
               label="COM_KNOWRES_POSTCODE"
               description="COM_KNOWRES_POSTCODE_DSC"/>
        <field name="b_country_id"
               addfieldprefix="HighlandVision\Component\Knowres\Administrator\Field"
               class="bcountrychain"
               filter="integer"
               hiddenDescription="true"
               onchange="comboGeo(this.value, 'guest.combo', 'b_region');"
               type="combocountry"
               label="COM_KNOWRES_COUNTRY">
            <option value="0">COM_KNOWRES_SELECT_COUNTRY</option>
        </field>
        <field name="b_region_id"
               addfieldprefix="HighlandVision\Component\Knowres\Administrator\Field"
               class="b_regionchain"
               filter="integer"
               hiddenDescription="true"
               type="comboregion"
               label="COM_KNOWRES_REGION">
            <option value="0">COM_KNOWRES_SELECT_REGION</option>
        </field>
    </fieldset>
    <fieldset name="referral">
        <field name="referral_id"
               addfieldprefix="HighlandVision\Component\Knowres\Administrator\Field"
               ajaxname="country_id"
               filter="integer"
               input_type="list"
               key_field="id"
               table="#__knowres_referral"
               translation_item="referral"
               type="listforeignkeytranslate"
               value_field="name"
               where="state=1"
               label="COM_KNOWRES_GUEST_REFERRAL_ID_LBL"
               description="COM_KNOWRES_GUEST_REFERRAL_ID_DSC"/>
        <field name="referral_info"
               class="input-xxlarge"
               filter="string"
               type="text"
               label="COM_KNOWRES_GUEST_REFERRAL_INFO_LBL"
               description="COM_KNOWRES_GUEST_REFERRAL_INFO_DSC"/>
    </fieldset>
    <fieldset name="hidden">
        <field name="user_id"
               default="0"
               filter="integer"
               type="hidden"/>
        <field name="customer_ref"
               type="hidden"
               filter="string"/>
        <field name="foreign_key"
               type="hidden"
               filter="string"/>
    </fieldset>
    <fieldset name="krcommon">
        <field name="state"
               type="list"
               class="chzn-color-state"
               size="1"
               default="1"
               label="JSTATUS"
               description="JFIELD_PUBLISHED_DESC">
            <option value="1">JPUBLISHED</option>
            <option value="0">JUNPUBLISHED</option>
            <option value="2">JARCHIVED</option>
            <option value="-2">JTRASHED</option>
        </field>
        <field name="id"
               type="text"
               default="0"
               readonly="true"
               class="readonly"
               label="COM_KNOWRES_ID"
               description="JGLOBAL_FIELD_ID_DESC"/>
        <field name="created_at"
               type="calendar"
               format="%Y-%m-%d %H:%M:%S"
               filter="user_utc"
               readonly="true"
               label="COM_KNOWRES_CREATED_AT_LBL"
               description="COM_KNOWRES_CREATED_AT_DSC"/>
        <field name="created_by"
               type="user"
               readonly="true"
               label="COM_KNOWRES_CREATED_BY_LBL"
               description="COM_KNOWRES_CREATED_BY_DSC"/>
        <field name="updated_at"
               type="calendar"
               format="%Y-%m-%d %H:%M:%S"
               filter="user_utc"
               readonly="true"
               label="COM_KNOWRES_UPDATED_AT_LBL"
               description="COM_KNOWRES_UPDATED_AT_DSC"/>
        <field name="updated_by"
               type="user"
               readonly="true"
               label="COM_KNOWRES_UPDATED_BY_LBL"
               description="COM_KNOWRES_UPDATED_BY_DSC"/>
        <field name="checked_out"
               type="hidden"
               filter="unset"/>
        <field name="checked_out_time"
               type="hidden"
               filter="unset"/>
    </fieldset>
</form>